#:kivy 1.0
#:import FadeTransition kivy.uix.screenmanager.FadeTransition

Screens:
    transition: FadeTransition()
    IntroScreen:
    NonExistingPeopleScreen:
    FakePersonAnswerScreen:
    CameraAndPlaybackScreen:
    VideoScreen:
    Outro:

<IntroScreen>:
    name: 'intro'
    on_enter: intro_video.state = 'play'
    on_leave: intro_video.state = 'pause'
    BoxLayout:
        orientation: 'vertical'
        Image:
            size_hint: 1, None
            source: 'images/banner.png'
        Label:
            size_hint: 1, None
            text: app.texts['intro']
            font_size: 18
            text_size: self.size
            halign: 'center'
        VideoPlayer:
            id: intro_video
            size_hint: 1, 0.5
            source: 'videos/Top 80 Deepfake Videos - Only Highlights!.mp4'
            annotations: 'videos/subtitles.jsa'
            state: 'play'
            options: {'eos': 'loop'}
        ButtonRow:
            yellow_button: 'Lad os komme igang!'

<NonExistingPeopleScreen>:
    name: 'persons'
    on_kv_post: self.setup_persons()
    BoxLayout:
        orientation: 'vertical'
        id: persons_box
        Image:
            size_hint: 1, None
            source: 'images/persons.png'
        Label:
            size_hint: 1, None
            text: app.texts['persons']
            text_size: self.size
            font_size: 24
            halign: 'center'
        BoxLayout:
            id: fake_row
        ButtonRow:
            yellow_button: 'Videre!'
            blue_button: 'De er alle berømte'
            black_button: 'De deltager på lejren'
            white_button: 'De findes ikke i virkeligheden'

<FakePersonAnswerScreen>:
    name:'fake_answer'
    id: answer_screen
    BoxLayout:
        orientation: 'vertical'
        Image:
            size_hint: 1, None
            source: 'images/correct.png' if answer_screen.correct else 'images/wrong.png'
        Label:
            size_hint: 1, None
            font_size: 32
            text: 'Det er helt rigtigt!\nDe findes nemlig slet ikke.' if answer_screen.correct else 'Det er desværre forkert!\nDe findes ikke i virkeligheden.'
            halign: 'center'
        Label:
            text: app.texts['persons_explanation']
            text_size: self.size
            font_size: 18
            halign: 'center'
            valign: 'center'
        ButtonRow:
            yellow_button: 'Lad os komme videre'

<CameraAndPlaybackScreen>:
    name: 'camfun'
    BoxLayout:
        orientation: 'vertical'
        Image:
            size_hint: 1, None
            source: 'images/avatar.png'
        Label:
            size_hint: 1, None
            text: app.texts['camfun']
            font_size: 12
            text_size: self.size
            halign: 'center'
        GridLayout:
            size_hint_max_y: 200
            cols: 2
            spacing: 100
            Image:
                id: camera
                halign: 'right'
            Image:
                id: avatar
                halign: 'left'
        ButtonRow:
            yellow_button: 'Lad os komme videre'
            blue_button: 'Kalibrer billedet'
            black_button: 'Næste Avatar'
            white_button: 'Forrige Avatar'

<VideoScreen>:
    name: 'videos'
    id: container
    on_enter: player.state = 'play'
    on_leave: player.state = 'stop'
    on_idx: player.state = 'play'
    BoxLayout:
        orientation: 'vertical'
        Image:
            size_hint: 1, None
            source: 'images/videos.png'
        VideoPlayer:
            id: player
            size_hint: 1, 0.4
            source: container.videos[container.idx]
            state: 'stop'
        Label:
            size_hint: 1, None
            text: app.texts['videos']
            text_size: self.size
        ButtonRow:
            yellow_button: 'Lad os komme videre'
            black_button: 'Næste video'
            white_button: 'Forrige video'

<Outro>:
    name: 'outro'
    BoxLayout:
        orientation: 'vertical'
        Image:
            size_hint: 1, None
            source: 'images/outro.png'
        Label:
            size_hint: 1, None
            text: app.texts['outro']
            text_size: self.size
            halign: 'center'
